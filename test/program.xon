// #!/usr/bin/env /usr/local/bin/node
// <bitbar.title>Hubstaff Info</bitbar.title>
// <bitbar.version>v1.0.0</bitbar.version>
// <bitbar.author>Nizami</bitbar.author>
// <bitbar.author.github>nizami-dev</bitbar.author.github>
// <bitbar.desc>Show Hubstaff info</bitbar.desc>
// <bitbar.dependencies>node.js</bitbar.dependencies>
// <bitbar.image>https://i.imgur.com/0aNslKx.png</bitbar.image>
/*jshint esversion: 6 */

si = require('systeminformation')

render_plugin()

render_plugin():
    si.batter().then(init)

get_charge_color(p number):
    return select:
        p > 40: '\u001b[32m' //green
        p > 20: '\u001b[33m' //yellow
        p > 0: '\u001b[31m' //red

init(battery any):
    chargeIcon = battery.ischarging && 'âš¡' || ''
    color = get_charge_color(battery.percent)
    console.log(f'{color}{chargeIcon}{battery.percent}% | size=13')
    console.log('---')
    console.log('Refresh|refresh=true')


SimpleClass:
    prop = 5
    tryped number = 6
    only_typed string

    method(t number, v = 4, vt string = 'sff'): 5+5

    location(x number, y number = 6): .coord(x, y)


    coord(x number, y number):
        console.log(1 + 1)